{
  "agent": {
    "id": "job_hunter",
    "name": "Job Hunter",
    "version": "2.0.0",
    "description": "Parse your resume, score it for ATS compatibility, identify errors and gaps, research live market demand, find 10 matching job opportunities, let the user select which to pursue, then generate ATS-optimized resume customization lists and cold outreach emails for each selected job."
  },
  "graph": {
    "id": "job_hunter-graph",
    "goal_id": "job-hunter",
    "version": "2.0.0",
    "entry_node": "resume_uploader",
    "entry_points": {
      "start": "resume_uploader"
    },
    "pause_nodes": [],
    "terminal_nodes": [
      "publisher"
    ],
    "nodes": [
      {
        "id": "resume_uploader",
        "name": "Resume Uploader",
        "description": "Welcome the user, accept a resume as a PDF upload, DOCX upload, or plain-text paste. Use pdf_read with web_scrape OCR fallback to extract full text. Store raw content for downstream parsing.",
        "node_type": "event_loop",
        "input_keys": [],
        "output_keys": ["raw_resume_content", "resume_file_type"],
        "nullable_output_keys": [],
        "input_schema": {},
        "output_schema": {},
        "tools": ["pdf_read", "web_scrape"],
        "model": null,
        "function": null,
        "routes": {},
        "max_retries": 3,
        "retry_on": [],
        "max_node_visits": 1,
        "output_model": null,
        "max_validation_retries": 2,
        "client_facing": true,
        "success_criteria": null
      },
      {
        "id": "resume_parser",
        "name": "Resume Parser",
        "description": "Deep structural parse of the raw resume. Extract all sections, skills taxonomy, experience timeline, education, quantified achievements, and detect format and grammar errors.",
        "node_type": "event_loop",
        "input_keys": ["raw_resume_content"],
        "output_keys": ["parsed_resume"],
        "nullable_output_keys": [],
        "input_schema": {},
        "output_schema": {},
        "tools": [],
        "model": null,
        "function": null,
        "routes": {},
        "max_retries": 3,
        "retry_on": [],
        "max_node_visits": 1,
        "output_model": null,
        "max_validation_retries": 2,
        "client_facing": false,
        "success_criteria": null
      },
      {
        "id": "preference_intake",
        "name": "Preference Intake",
        "description": "Present resume analysis and detected errors to the user. Show role fits. Collect job search preferences: location, remote preference, salary, company size, industries to avoid.",
        "node_type": "event_loop",
        "input_keys": ["parsed_resume"],
        "output_keys": ["user_preferences", "confirmed_roles"],
        "nullable_output_keys": [],
        "input_schema": {},
        "output_schema": {},
        "tools": [],
        "model": null,
        "function": null,
        "routes": {},
        "max_retries": 3,
        "retry_on": [],
        "max_node_visits": 1,
        "output_model": null,
        "max_validation_retries": 2,
        "client_facing": true,
        "success_criteria": null
      },
      {
        "id": "market_analyst",
        "name": "Market Analyst",
        "description": "Scrape job boards and salary data sites to validate market demand for each confirmed role. Surface open role counts, top hiring companies, required keywords, and salary benchmarks.",
        "node_type": "event_loop",
        "input_keys": ["confirmed_roles", "user_preferences", "parsed_resume"],
        "output_keys": ["market_intelligence"],
        "nullable_output_keys": [],
        "input_schema": {},
        "output_schema": {},
        "tools": ["web_scrape"],
        "model": null,
        "function": null,
        "routes": {},
        "max_retries": 3,
        "retry_on": [],
        "max_node_visits": 1,
        "output_model": null,
        "max_validation_retries": 2,
        "client_facing": false,
        "success_criteria": null
      },
      {
        "id": "job_selector",
        "name": "Job Selector",
        "description": "Present market intelligence report. Search job boards for 10 real matched listings. Present listings and let the user select which to pursue.",
        "node_type": "event_loop",
        "input_keys": ["market_intelligence", "confirmed_roles", "user_preferences", "parsed_resume"],
        "output_keys": ["job_listings", "selected_jobs"],
        "nullable_output_keys": [],
        "input_schema": {},
        "output_schema": {},
        "tools": ["web_scrape"],
        "model": null,
        "function": null,
        "routes": {},
        "max_retries": 3,
        "retry_on": [],
        "max_node_visits": 1,
        "output_model": null,
        "max_validation_retries": 2,
        "client_facing": true,
        "success_criteria": null
      },
      {
        "id": "jd_parser",
        "name": "JD Parser",
        "description": "Scrape full job descriptions for each selected job. Extract required skills, optional skills, seniority signals, ATS keywords, and company details.",
        "node_type": "event_loop",
        "input_keys": ["selected_jobs"],
        "output_keys": ["parsed_job_descriptions"],
        "nullable_output_keys": [],
        "input_schema": {},
        "output_schema": {},
        "tools": ["web_scrape"],
        "model": null,
        "function": null,
        "routes": {},
        "max_retries": 3,
        "retry_on": [],
        "max_node_visits": 1,
        "output_model": null,
        "max_validation_retries": 2,
        "client_facing": false,
        "success_criteria": null
      },
      {
        "id": "ats_analyzer",
        "name": "ATS Analyzer",
        "description": "Score the resume against each selected job description for ATS compatibility. Identify missing keywords, weak sections, and format issues. Produce per-job ATS score (0-100) and gap analysis.",
        "node_type": "event_loop",
        "input_keys": ["parsed_resume", "parsed_job_descriptions"],
        "output_keys": ["ats_reports"],
        "nullable_output_keys": [],
        "input_schema": {},
        "output_schema": {},
        "tools": [],
        "model": null,
        "function": null,
        "routes": {},
        "max_retries": 3,
        "retry_on": [],
        "max_node_visits": 1,
        "output_model": null,
        "max_validation_retries": 2,
        "client_facing": false,
        "success_criteria": null
      },
      {
        "id": "chief_strategist",
        "name": "Chief Strategist",
        "description": "Create a master strategy brief for each selected job. Define resume section rewrites, keyword injection plan, experience emphasis order, and cold email angle.",
        "node_type": "event_loop",
        "input_keys": ["parsed_resume", "parsed_job_descriptions", "ats_reports", "market_intelligence"],
        "output_keys": ["strategy_briefs"],
        "nullable_output_keys": [],
        "input_schema": {},
        "output_schema": {},
        "tools": [],
        "model": null,
        "function": null,
        "routes": {},
        "max_retries": 3,
        "retry_on": [],
        "max_node_visits": 1,
        "output_model": null,
        "max_validation_retries": 2,
        "client_facing": false,
        "success_criteria": null
      },
      {
        "id": "senior_copywriter",
        "name": "Senior Copywriter",
        "description": "Write resume customization list and cold outreach email for each selected job following the strategy brief. Output draft materials for critic review.",
        "node_type": "event_loop",
        "input_keys": ["strategy_briefs", "parsed_resume", "parsed_job_descriptions", "ats_reports"],
        "output_keys": ["draft_materials"],
        "nullable_output_keys": [],
        "input_schema": {},
        "output_schema": {},
        "tools": [],
        "model": null,
        "function": null,
        "routes": {},
        "max_retries": 3,
        "retry_on": [],
        "max_node_visits": 1,
        "output_model": null,
        "max_validation_retries": 2,
        "client_facing": false,
        "success_criteria": null
      },
      {
        "id": "critic",
        "name": "Critic",
        "description": "Review each draft against the strategy brief and quality standards. Flag weak phrases, generic language, fabrications, and word limit violations. Output pass/fail with revision instructions.",
        "node_type": "event_loop",
        "input_keys": ["draft_materials", "strategy_briefs", "ats_reports"],
        "output_keys": ["critique_report"],
        "nullable_output_keys": [],
        "input_schema": {},
        "output_schema": {},
        "tools": [],
        "model": null,
        "function": null,
        "routes": {},
        "max_retries": 3,
        "retry_on": [],
        "max_node_visits": 1,
        "output_model": null,
        "max_validation_retries": 2,
        "client_facing": false,
        "success_criteria": null
      },
      {
        "id": "revision_router",
        "name": "Revision Router",
        "description": "Apply critic revision instructions where needed. Pass materials through unchanged where not. Output final_materials ready for the publisher.",
        "node_type": "event_loop",
        "input_keys": ["draft_materials", "critique_report", "strategy_briefs"],
        "output_keys": ["final_materials"],
        "nullable_output_keys": [],
        "input_schema": {},
        "output_schema": {},
        "tools": [],
        "model": null,
        "function": null,
        "routes": {},
        "max_retries": 3,
        "retry_on": [],
        "max_node_visits": 1,
        "output_model": null,
        "max_validation_retries": 2,
        "client_facing": false,
        "success_criteria": null
      },
      {
        "id": "publisher",
        "name": "Publisher",
        "description": "Build a single HTML report with ATS scores, resume customization lists, and cold emails. Serve the file to the user. Create Gmail drafts. Set final output.",
        "node_type": "event_loop",
        "input_keys": ["final_materials", "ats_reports", "parsed_resume"],
        "output_keys": ["application_materials"],
        "nullable_output_keys": [],
        "input_schema": {},
        "output_schema": {},
        "tools": ["save_data", "append_data", "serve_file_to_user", "gmail_create_draft"],
        "model": null,
        "function": null,
        "routes": {},
        "max_retries": 3,
        "retry_on": [],
        "max_node_visits": 1,
        "output_model": null,
        "max_validation_retries": 2,
        "client_facing": true,
        "success_criteria": null
      }
    ],
    "edges": [
      {
        "id": "resume-uploader-to-resume-parser",
        "source": "resume_uploader",
        "target": "resume_parser",
        "condition": "on_success",
        "condition_expr": null,
        "priority": 1,
        "input_mapping": {}
      },
      {
        "id": "resume-parser-to-preference-intake",
        "source": "resume_parser",
        "target": "preference_intake",
        "condition": "on_success",
        "condition_expr": null,
        "priority": 1,
        "input_mapping": {}
      },
      {
        "id": "preference-intake-to-market-analyst",
        "source": "preference_intake",
        "target": "market_analyst",
        "condition": "on_success",
        "condition_expr": null,
        "priority": 1,
        "input_mapping": {}
      },
      {
        "id": "market-analyst-to-job-selector",
        "source": "market_analyst",
        "target": "job_selector",
        "condition": "on_success",
        "condition_expr": null,
        "priority": 1,
        "input_mapping": {}
      },
      {
        "id": "job-selector-to-jd-parser",
        "source": "job_selector",
        "target": "jd_parser",
        "condition": "on_success",
        "condition_expr": null,
        "priority": 1,
        "input_mapping": {}
      },
      {
        "id": "jd-parser-to-ats-analyzer",
        "source": "jd_parser",
        "target": "ats_analyzer",
        "condition": "on_success",
        "condition_expr": null,
        "priority": 1,
        "input_mapping": {}
      },
      {
        "id": "ats-analyzer-to-chief-strategist",
        "source": "ats_analyzer",
        "target": "chief_strategist",
        "condition": "on_success",
        "condition_expr": null,
        "priority": 1,
        "input_mapping": {}
      },
      {
        "id": "chief-strategist-to-senior-copywriter",
        "source": "chief_strategist",
        "target": "senior_copywriter",
        "condition": "on_success",
        "condition_expr": null,
        "priority": 1,
        "input_mapping": {}
      },
      {
        "id": "senior-copywriter-to-critic",
        "source": "senior_copywriter",
        "target": "critic",
        "condition": "on_success",
        "condition_expr": null,
        "priority": 1,
        "input_mapping": {}
      },
      {
        "id": "critic-to-revision-router",
        "source": "critic",
        "target": "revision_router",
        "condition": "on_success",
        "condition_expr": null,
        "priority": 1,
        "input_mapping": {}
      },
      {
        "id": "revision-router-to-publisher",
        "source": "revision_router",
        "target": "publisher",
        "condition": "on_success",
        "condition_expr": null,
        "priority": 1,
        "input_mapping": {}
      }
    ],
    "max_steps": 200,
    "max_retries_per_node": 3,
    "description": "Parse and ATS-score a user's resume, research live market demand, find 10 matching job opportunities, let the user select which to pursue, then generate ATS-optimized resume customizations and cold outreach emails for each selected job.",
    "created_at": "2026-02-18T00:00:00.000000"
  },
  "goal": {
    "id": "job-hunter",
    "name": "Job Hunter",
    "description": "Parse and ATS-score a user's resume, research live market demand, find 10 matching job opportunities, let the user select which to pursue, then generate ATS-optimized resume customizations and cold outreach emails for each selected job.",
    "status": "draft",
    "success_criteria": [
      {
        "id": "resume-parsing-accuracy",
        "description": "Resume is fully parsed with all sections, skills, and errors identified",
        "metric": "parse_completeness",
        "target": ">=0.95",
        "weight": 0.1,
        "met": false
      },
      {
        "id": "ats-scoring-accuracy",
        "description": "ATS scores accurately reflect keyword match rate and format quality",
        "metric": "ats_score_validity",
        "target": ">=0.85",
        "weight": 0.15,
        "met": false
      },
      {
        "id": "role-identification",
        "description": "Identifies 3-5 role types that genuinely match the user's actual experience",
        "metric": "role_match_accuracy",
        "target": ">=0.8",
        "weight": 0.15,
        "met": false
      },
      {
        "id": "job-relevance",
        "description": "Found jobs align with identified roles and user's background",
        "metric": "job_relevance_score",
        "target": ">=0.8",
        "weight": 0.15,
        "met": false
      },
      {
        "id": "customization-quality",
        "description": "Resume changes are specific, actionable, and tailored to each job posting",
        "metric": "customization_specificity",
        "target": ">=0.85",
        "weight": 0.2,
        "met": false
      },
      {
        "id": "email-effectiveness",
        "description": "Cold emails are personalized, professional, and reference specific company details",
        "metric": "email_personalization_score",
        "target": ">=0.85",
        "weight": 0.15,
        "met": false
      },
      {
        "id": "user-satisfaction",
        "description": "User approves outputs without major revisions needed",
        "metric": "approval_rate",
        "target": ">=0.9",
        "weight": 0.1,
        "met": false
      }
    ],
    "constraints": [
      {
        "id": "realistic-roles",
        "description": "Only suggest roles the user is realistically qualified for — no aspirational stretch roles",
        "constraint_type": "quality",
        "category": "accuracy",
        "check": ""
      },
      {
        "id": "truthful-customizations",
        "description": "Resume customizations must be truthful — enhance presentation, never fabricate experience",
        "constraint_type": "ethical",
        "category": "integrity",
        "check": ""
      },
      {
        "id": "professional-emails",
        "description": "Cold emails must be professional, specific, and not spammy",
        "constraint_type": "quality",
        "category": "tone",
        "check": ""
      },
      {
        "id": "respect-selection",
        "description": "Only generate materials for jobs the user explicitly selects",
        "constraint_type": "behavioral",
        "category": "user_control",
        "check": ""
      },
      {
        "id": "no-fabrication",
        "description": "Keyword injections and bullet rewrites must never introduce experience the candidate does not have",
        "constraint_type": "ethical",
        "category": "integrity",
        "check": ""
      }
    ],
    "context": {},
    "required_capabilities": [],
    "input_schema": {},
    "output_schema": {},
    "version": "2.0.0",
    "parent_version": "1.0.0",
    "evolution_reason": "Expanded from 4-node to 12-node pipeline with ATS scoring, market research, JD parsing, strategy briefs, copywriting, and editorial critique.",
    "created_at": "2026-02-18 00:00:00.000000",
    "updated_at": "2026-02-18 00:00:00.000000"
  },
  "required_tools": [
    "pdf_read",
    "web_scrape",
    "save_data",
    "append_data",
    "serve_file_to_user",
    "gmail_create_draft"
  ],
  "metadata": {
    "created_at": "2026-02-18T00:00:00.000000",
    "node_count": 12,
    "edge_count": 11
  }
}
